# **Промежуточный результат №1 дипломного проекта**

## **Тема проекта: Разработка телеграмм - бота "Колесо компетентности"**

***
Для понимания. Сама идея бота заключается в том, что при начале работы с ботом, пользователь будет вноситься в БД. Затем будут вноситься результаты тестирования в эту бд. После чего по ID пользователя будет происходить выборка необходимой информации для составления графика. Дальше график сохранится на диске и путь к этому изображению будет записан в бд.

В этом же примере я реализовал вторую часть. Подробности ниже.
***

### В этом примере показано решение следующих задач

- получение необходимых данных для составления "Колеса компетентности" из базы данных. (data_frame.py)
- некоторая работа с БД, которая необходима для данного промежуточного результата. (db3.py)
- на основе полученных данных из БД составление полярного графика. Сохранение этого графика в формате png на диске.(imag.py)

Да, проще составить график сразу же после прохождения теста, когда данные ещё не ушли в бд. А после составления загрузить срау и результаты тестирования и ссылку на изображение(график). Но в данном примере я сделал с вытаскиванием данных из бд.

В data_frame.py реализовано получение данных из бд.

В db3.py я создал 2 таблицы. в Одной будут пока что храниться id пользователя и ссылка на картинку с его результатом изображения, а во второй сами результаты тестирования. Таблицы связан между собой по id пользователю. Так же описаны методы загрузки ссылки изображения в БД и получение ссылки из бд по ID пользователя. Можно и изображения сохранять в бд в формате BLOB. Но я решил сохранять на диске, а в бд хранить только ссылки на эти изображения. Т.к. для того, что бы хранить в бд изображения их нужно перести в двоичный код, а он будет санимать много места в бд и будет тратиться время на перевод в двоичный код и обратно в изображение. В примере id пользователей и все данные в таблице value заполнены условно.

В imag.py реализован метод составления итогового графика - "Колеса компетентности". Для этого использую библиотеки numpy;matplotlib.pyplot; matplotlib.ticker. Реализован метод сохранения изображения на диск и удаления.

Для себя выяснил важные задачи: как составить похожее колесо на то, что в тесте от GB, как получить информацию из бд и применить её при составлении колеса, как сохрвнить изображение, что бы в дальнейшем его можно было передать пользователю через бот.

Дальше ставлю задачи Разобраться с самим ботом. А именно:

- внесение информации о пользователе в бд при подключении к боту.
- создание кнопок для ответов при прохождении теста.
- соеденить бота с бд
- загрузка изображения в бота
- решение задач, с которыми придётся столкнуться.
